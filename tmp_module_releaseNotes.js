function() { $A.componentService.addModule('markup://c:hcReleaseNotesTracker', "c/hcReleaseNotesTracker",["exports","lwc","lightning/navigation","c/hcUtils","c/hcCoveoService","c/hcLanguageHandler","@salesforce/user/isGuest","@salesforce/apex/HC_AlertBannerController_Help.getReleaseNotesData","@salesforce/resourceUrl/HTCommunityCustomImages","c/hcAlertBannerUtils"],function(e,t,s,o,a,l,i,r,n,c){function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=d(l),h=d(i),g=d(r),p=d(n);const m=[];function N(e,t,s,o){return m}var C=t.registerTemplate(N);N.stylesheets=[],N.stylesheetToken="lwc-2ji36lvahfu",N.legacyStylesheetToken="c-hcReleaseNotesTracker_hcReleaseNotesTracker",t.freezeTemplate(N);const v="closedReleaseNotes";class k extends c.AlertBannerUtils{constructor(...e){super(...e),this.optionsData=void 0,this.viewedNotes=[]}getStateParameters(e){e&&g.default({params:JSON.stringify({pageName:e.attributes.name,type:e.state.type,id:e.state.id,viewedIds:this.closedNotesCookie,language:this.getUserLanguage(e),communityLookup:this.communityLookup})},{sourceContext:{tagName:"c/hcReleaseNotesTracker"}}).then(e=>{this.alerts=e?JSON.parse(e):null,this.alerts&&this.alerts.length&&(this.addViewedNote(this.alerts[0].alertId),this.showAlertPopup())}).catch(e=>console.error(e))}showAlertPopup(){let e={};e.bannerFooterImage=`${p.default}/png/release-note-popup.png`,e.callbacks=this.modalWindowCallbacks,e.records=this.alerts.map((e,t)=>({isSelected:0===t,alertId:e.alertId})),this.fireEvent("showAlertPopup",e)}getUserLanguage(e){if(h.default&&e.state.language)return e.state.language;let t=u.default.getStoredUserLanguage();return t?t.replace(/\"/g,""):"en_US"}setClosedReleaseNotes(){let e=this.closedNotesCookie?[...this.closedNotesCookie,...this.viewedNotes]:this.viewedNotes;o.Utils.HCCookie.set({name:v,value:JSON.stringify(e),path:"/",maxAgeSeconds:31536e3,domain:(window===globalThis||window===document?location:window.location).hostname})}addViewedNote(e){this.viewedNotes.includes(e)||this.closedNotesCookie&&this.closedNotesCookie.includes(e)||this.viewedNotes.push(e)}sendAnalytics(e,t,s,o){const l={actionDebugValue:e,eventType:"Home Page Redirect",eventCause:t,eventValue:t,searchInterface:"HelpHome",customData:{originLevel4:s,originLevel5:o}};a.CoveoAnalyticsService.logCustomEvent(l)}get modalWindowCallbacks(){return{xButtonCallback:e=>{this.sendAnalytics(1861,"Exit Release Note Modal","Exit Release Note Modal",this.removeHTMLtags(e.title)),this.addViewedNote(e.alertId),this.setClosedReleaseNotes()},closeButtonCallback:e=>{this.sendAnalytics(1862,"Close Release Note Modal","Close Release Note Modal",this.removeHTMLtags(e.title)),this.addViewedNote(e.alertId),this.setClosedReleaseNotes()},backButtonCallback:e=>{this.sendAnalytics(1863,"Release Note Modal Back Click",this.removeHTMLtags(e.description),this.removeHTMLtags(e.title)),this.addViewedNote(e.alertId)},nextButtonCallback:e=>{this.sendAnalytics(1864,"Release Note Modal Next Click",this.removeHTMLtags(e.description),this.removeHTMLtags(e.title)),this.addViewedNote(e.alertId)}}}get closedNotesCookie(){let e=o.Utils.HCCookie.get(v);return e?JSON.parse(e):null}get communityLookup(){return this.optionsData?this.optionsData.communityLookup:null}}t.registerDecorators(k,{publicProps:{optionsData:{config:0}},wire:{getStateParameters:{adapter:s.CurrentPageReference,method:1,config:function(e){return{}}}},fields:["viewedNotes"]});const f=t.registerComponent(k,{tmpl:C,sel:"c-hc-release-notes-tracker",apiVersion:64});e.default=f,Object.defineProperty(e,"__esModule",{value:!0})});
}